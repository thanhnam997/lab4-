<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Initialize student count
    let studentCount = 0;

    // Display 0 in the span#student-count
    updateStudentCount();

    // Event listener for the "Add Student" button
    document.getElementById("add-student").addEventListener("click", function () {
      // Read values from input fields
      let name = document.getElementById("student-name").value.trim();
      let id = document.getElementById("student-id").value.trim();
      let gpa = parseFloat(document.getElementById("student-gpa").value);

      // Validate input values
      if (!name || !id || isNaN(gpa) || gpa < 0 || gpa > 4) {
        alert("Please enter valid information for all fields.");
        return;
      }

      // Create a new li element
      let li = document.createElement("li");

      // Set innerHTML of the li element
      li.innerHTML = `${name}, id: ${id}, GPA ${gpa}`;

      // Add a click event handler to the new li element
      li.addEventListener("click", function () {
        // Toggle the "selected" class on click
        li.classList.toggle("selected");
      });

      // Add the new li element to ul#student-list
      document.getElementById("student-list").appendChild(li);

      // Clear input values
      document.getElementById("student-name").value = "";
      document.getElementById("student-id").value = "";
      document.getElementById("student-gpa").value = "";

      // Update student count and span
      studentCount++;
      updateStudentCount();
    });

    // Event listener for the "Remove Selected Students" button
    document.getElementById("remove-selected-students").addEventListener("click", function () {
      // Remove elements with the class="selected" from the list
      let selectedElements = document.querySelectorAll("#student-list .selected");
      selectedElements.forEach(function (element) {
        element.remove();
        // Decrease student count for each removed element
        studentCount--;
      });

      // Update student count and span
      updateStudentCount();
    });

    // Function to update the span#student-count
    function updateStudentCount() {
      document.getElementById("student-count").textContent = studentCount;
    }
  });
</script>
